{% extends "base.html" %} {% block title %}OpenBMC Bot{% endblock %} {% block
content %}
<div class="container">
  <h1>OpenBMC Bot</h1>

  <div class="section">
    <h2>Reports</h2>
    <div class="global-queries">
      <button onclick="window.location.href='/bot/report'">All Open</button>
      <br />
      <button onclick="window.location.href='/bot/report-by-repo'">
        Per-Repo Summary
      </button>
    </div>
    <br />
    <div class="form-group">
      <label for="project">Query:</label>
      <input type="text" id="query" placeholder="Enter project or username" />
      <button onclick="goToProject()">Project</button>
      <button onclick="goToUser()">User</button>
    </div>
  </div>

  <div class="section">
    <h2>Change Status</h2>
    <div class="form-group">
      <label for="changeId">Change ID:</label>
      <input type="text" id="change_id" placeholder="Enter change ID" />
      <button onclick="goToChangeStatus()">Change</button>
    </div>
  </div>
</div>

<script>
  function goToProject() {
    const project = document.getElementById("query").value.trim();
    if (project) {
      window.location.href = "/bot/report/" + project;
    } else {
      alert("Please enter a project name");
    }
  }

  function goToUser() {
    const user = document.getElementById("query").value.trim();
    if (user) {
      window.location.href = "/bot/user/" + encodeURIComponent(user);
    } else {
      alert("Please enter a username");
    }
  }

  function goToChangeStatus() {
    const changeId = document.getElementById("change_id").value.trim();
    if (changeId) {
      window.location.href =
        "/bot/review-status/" + encodeURIComponent(changeId);
    } else {
      alert("Please enter a change ID");
    }
  }
</script>
{% endblock %}
